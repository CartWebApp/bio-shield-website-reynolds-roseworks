<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rey Roseworks Bio Shield natural sprays and essential oils. Explore all our products here.">
  <title>Rey Roseworks - Products</title>
  <style>
    body { font-family:'Arial',sans-serif; background:#448927; margin:0; padding:0; color:#333; display:flex; flex-direction:column; align-items:center;}
    header { width:100%; padding:15px 0; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.05); text-align:center; position:sticky; top:0; z-index:1000;}
    nav a { margin:0 15px; font-weight:bold; color:#007BFF; text-decoration:none;}
    nav a.active { color:#0056b3; border-bottom:2px solid #007BFF; padding-bottom:3px;}
    .logo img { max-width:220px; margin:20px 0; transition: transform 0.3s;}
    .logo img:hover { transform:scale(1.05);}
    .cart-summary { margin-top:10px; text-align:right; width:90%; max-width:1200px; color:#fff; }
    main { width:90%; max-width:1200px; padding:20px; text-align:center;}
    h2 { font-size:2.2em; margin-bottom:20px; color:#fff;}
    .product-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:25px; margin-top:30px;}
    .product-card { background:#fff; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.08); padding:15px; transition:transform 0.3s;}
    .product-card:hover { transform:translateY(-5px);}
    .product-card img { max-width:100%; border-radius:8px; cursor:pointer;}
    .product-card h3 { margin:15px 0 10px; font-size:1.2em; color:#222; cursor:pointer;}
    .btn, .addToCart { display:inline-block; margin-top:10px; padding:10px 18px; background:#007BFF; color:#fff; border-radius:5px; text-decoration:none; cursor:pointer; transition:background 0.3s;}
    .btn:hover, .addToCart:hover { background:#0056b3; }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="../images/rey-roseworks.png" alt="Rey Roseworks Logo">
    </div>
    <nav>
      <a href="../index.html">Home</a>
      <a href="../second-page/second-page.html">About</a>
      <a href="products-page.html" class="active">Products</a>
      <a href="../contacts-page/contacts-page.html">Contact</a>
    </nav>
    <div class="cart-summary">
      <span>Items in Cart: <span id="cartItemCount">0</span></span> |
      <span>Total: <span id="cartTotal">$0.00</span></span> |
      <a href="../CART/cart.html" class="btn">Go to Cart</a>
    </div>
  </header>

  <main>
    <h2>Our Products</h2>
    <div class="product-grid">
      <!-- Product 1 -->
      <div class="product-card product">
        <a href="original-spray-16.html">
          <img src="../images/product-1-project-1.jpg" alt="Original Bio Shield Spray 16oz" class="prodImage">
          <h3 class="prodName">Original Spray (16oz)</h3>
        </a>
        <p class="prodDesc">Powerful natural spray to protect and refresh your space.</p>
        <p class="prodPrice">29.99</p>
        <button class="addToCart">Add to Cart</button>
      </div>

      <!-- Product 2 -->
      <div class="product-card product">
        <a href="lavender-essential-oil-15.html">
          <img src="../images/product-2-project-1.jpg" alt="Lavender Essential Oil 15ml" class="prodImage">
          <h3 class="prodName">Lavender Essential Oil (15ml)</h3>
        </a>
        <p class="prodDesc">Calming lavender oil for aromatherapy and relaxation.</p>
        <p class="prodPrice">15.50</p>
        <button class="addToCart">Add to Cart</button>
      </div>

      <!-- Product 3 -->
      <div class="product-card product">
        <a href="moisturizing-lotion-12.html">
          <img src="../images/product-3-project-1.jpg" alt="Bio Shield Moisturizing Lotion 12oz" class="prodImage">
          <h3 class="prodName">Bio Shield Moisturizing Lotion (12oz)</h3>
        </a>
        <p class="prodDesc">Moisturizing lotion infused with protective botanicals.</p>
        <p class="prodPrice">24.75</p>
        <button class="addToCart">Add to Cart</button>
      </div>

      <!-- Product 4 -->
      <div class="product-card product">
        <a href="plus+-spray-16.html">
          <img src="../images/product-4-project-1.jpg" alt="Citrus Blend Spray 8oz" class="prodImage">
          <h3 class="prodName">Citrus Blend Spray (8oz)</h3>
        </a>
        <p class="prodDesc">Refreshing citrus blend for an energizing aroma.</p>
        <p class="prodPrice">19.99</p>
        <button class="addToCart">Add to Cart</button>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Rey Roseworks. All rights reserved.</p>
  </footer>

  <script>
    const shopID = 'testShop',
          productClass = 'product',
          imageClass = 'prodImage',
          nameClass = 'prodName',
          descClass = 'prodDesc',
          priceClass = 'prodPrice',
          cartTotalID = 'cartTotal',
          cartItemCountID = 'cartItemCount';

    if(!localStorage.getItem(shopID)) localStorage.setItem(shopID, JSON.stringify({cart:[]})); 
    let shop = JSON.parse(localStorage.getItem(shopID));

    class Product {
      constructor(name,desc,price,imgSrc,qty=1){ this.name=name; this.desc=desc; this.price=price; this.imgSrc=imgSrc; this.qty=qty; }
    }

    function addToCart(e){
      const productElem = e.target.closest(`.${productClass}`);
      if(!productElem) return;
      const name = productElem.querySelector(`.${nameClass}`).innerText;
      const desc = productElem.querySelector(`.${descClass}`).innerText;
      const price = parseFloat(productElem.querySelector(`.${priceClass}`).innerText);
      const imgSrc = productElem.querySelector(`.${imageClass}`).currentSrc;
      const existing = shop.cart.find(item => item.name===name);
      if(existing) existing.qty++; else shop.cart.push(new Product(name,desc,price,imgSrc));
      localStorage.setItem(shopID, JSON.stringify(shop));
      updateCartTotals();
    }

    function cartTotal(){
      let total=0, count=0;
      shop.cart.forEach(item=>{ total+=item.price*item.qty; count+=item.qty; });
      return [total,count];
    }

    function updateCartTotals(){
      const [total,count] = cartTotal();
      document.getElementById(cartTotalID).innerText=`$${total.toFixed(2)}`;
      document.getElementById(cartItemCountID).innerText=count;
    }

    document.addEventListener("DOMContentLoaded",()=>{
      document.querySelectorAll('.addToCart').forEach(btn=>btn.addEventListener('click',addToCart));
      updateCartTotals();
    });
  </script>
</body>
</html>
